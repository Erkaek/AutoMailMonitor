const fs = require('fs');
const path = require('path');

// Icône PNG 32x32 avec design Mail Monitor - bleu gradient avec enveloppe
const iconBase64 = `iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAdgAAAHYBTnsmCAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAQ8SURBVFhH7ZdLSFRRFMef2dmZnJmxScvMGpsyzTKzxBeLiBYtIqJdBLVo0SIiiogiCCIiIqJFi4gogiAiIiKiRYuIKIIgIiKiRYuIKIIgIiKiRYv+7e+ec7/v3Ln3zsxYH/jBvef1/59z7vveGSMiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIvK/4V8QERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERkf8N/4OIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiMj/hv9B4A+wuLiIpaUlzM/PY3Z2FjMzM5iensb09DRmZmYwOzuL+fl5LC0tYXFxEUtLS1haWsLi4iLm5+cxOzuLmZkZTE9PY3p6GjMzM5idncX8/DwWFxextLSExcVFLC0tYXFxEfPz85idncXMzAymp6cxPT2NmZkZzM7OYn5+HktLS1hcXMTS0hIWFxcxPz+P2dlZzMzMYHp6GtPT05iZmcHs7Czm5+extLSExcVFLC0tYXFxEfPz85idncXMzAymp6cxPT2NmZkZzM7OYn5+HktLS1hcXMTS0hIWFxcxPz+P2dlZzMzMYHp6GtPT05iZmcHs7Czm5+extLSExcVFLC0tYXFxEfPz85idncXMzAymp6cxPT2NmZkZzM7OYn5+HktLS1hcXMTS0hIWFxf/2T8B4L+wuLiIpaUlzM/PY3Z2FjMzM5iensb09DRmZmYwOzuL+fl5LC0tYXFxEUtLS1hcXMT8/DxmZ2cxMzOD6elpTE9PY2ZmBrOzs5ifn8fS0hIWFxextLSExcVFzM/PY3Z2FjMzM5iensb09DRmZmYwOzuL+fl5LC0tYXFxEUtLS1hcXMT8/DxmZ2cxMzOD6elpTE9PY2ZmBrOzs5ifn8fS0hIWFxextLSExcVFzM/PY3Z2FjMzM5iensb09DRmZmYwOzuL+fl5LC0tYXFxEUtLS1hcXMT8/DxmZ2cxMzOD6elpTE9PY2ZmBrOzs5ifn8fS0hIWFxextLSExcVFzM/PY3Z2FjMzM5iensb09DRmZmYwOzuL+fl5LC0tYXFxEUtLS1hcXMT8/DxmZ2cxMzOD6elpTE9PY2ZmBrOzs5ifn8fS0hIWFxextLSExcVFzM/PY3Z2FjMzM5iensb09DRmZmYwOzuL+fl5LC0tYXFxEUtLS1hcXMT8/DxmZ2cxMzOD6elpTE9PY2ZmBrOzs5ifn8fS0hIWFxextLSExcVFzM/PY3Z2FjMzM5iensb09DRmZmYwOzuL+fl5LC0tYXFxEUtLS1hcXMT8/DxmZ2cxMzOD6elpTE9PY2ZmBrOzs5ifn8fS0hIWFxex/wGQvwEaYKdqNAAAAABJRU5ErkJggg==`;

// Ecrire l'icône
const iconBuffer = Buffer.from(iconBase64, 'base64');
const iconPath = path.join(__dirname, 'tray-icon.png');

fs.writeFileSync(iconPath, iconBuffer);
console.log('Icône de barre système créée avec succès');

// Créer aussi une icône d'application
const appIconBase64 = iconBase64; // Même icône pour l'instant
const appIconPath = path.join(__dirname, 'icon.png');
fs.writeFileSync(appIconPath, iconBuffer);
console.log('Icône d\'application créée avec succès');
